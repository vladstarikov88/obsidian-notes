**Определенный механизм, который позволяет использоваться неблокирующую модель ввода/вывода



#### Call Stack
JS - однопоточный (single thread) язык программированния. У него один стек вызовов. Одна операция в момент времени.

Call stack - это мезанизм для интерпретаторов для отслеживания текущего местанахождения интерпретатора в скрипте

![[Pasted image 20230218125351.png]]

Задачи из очереди выолняются только после вызове всех функций из стека. То есть тогда, когда стек будет полносьтю пустой



#### Event loop
Не является частью движков (V8, gecko...) 
Event loop предоставляется средой - браузер, нода.

![[Pasted image 20230218143506.png]]
Устройства event loop может быть разным. 

Задача цикла событий - наблюдать за стеком и очередью задач. Если стек пуст - event loop берет первый элемент из очереди и помешает его в стек.



#### Алгоритм Event loop
[[Micro and Macro tasks]]

![[Pasted image 20230218160220.png]]
- выполнить все синхронные задачи из call stack
- (стек пустой)
- выполнить все микрозадачи: `Promise` 
- выполнить *ОДНУ* макрозадачу: `web api` 
- вернуться к первому шагу

